@inherits StoreComponent<StandardRunUiProjection> 

<MudDialog>
    <DialogContent>
        <MudContainer>
            <MudDataGrid Items="@Model.OrderedPanels" 
                         Dense="true"
                         Elevation="0"
                         FixedHeader="true"
                         Height="400px" ColumnResizeMode="ResizeMode.Column">
                <Columns>
                    <HierarchyColumn T="PanelState" />
                    <PropertyColumn Property="x => x.Index"/>
                    <TemplateColumn>
                        <CellTemplate>
                            <MudText Typo="Typo.caption">@context.Item.Panel.GetType().Name</MudText>
                        </CellTemplate>
                    </TemplateColumn>
                    <PropertyColumn Property="x => x.Panel.Title" Title="Title" />
                    <PropertyColumn Property="x => x.IsVisible" Title="Visible" />
                    <PropertyColumn Property="x => x.IsExpanded" Title="Expanded" />
                </Columns>
                <ChildRowContent>
                    <MudCard Elevation="1">
                        <JsonData Data="context.Item"/>
                    </MudCard>
                </ChildRowContent>
            </MudDataGrid>
        </MudContainer>
    </DialogContent>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }

    protected override IObservable<StandardRunUiProjection> Select() => Store.Select(UiSelectors.SelectStandardRunUiModel);
}