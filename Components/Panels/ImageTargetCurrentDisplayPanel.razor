@using Radiate.Client.Domain.Store.Models.Projections
@using Radiate.Client.Domain.Store.Selections
@inherits StoreComponent<ImageTargetCurrentDisplayPanelProjection>

<div class="mt-3 mb-3">
    <MudGrid>
        <MudItem md="6">
            <div Class="d-flex justify-content-center">
                <ImageDisplay ImageUrl="@Model?.TargetImage.ImageDisplay" ImageTitle="Target"/>
            </div>
        </MudItem>
        <MudItem md="6">
            <div Class="d-flex justify-content-center">
                <ImageDisplay ImageUrl="@Model?.CurrentImage.ImageDisplay" ImageTitle="Current"/>
            </div>
        </MudItem>
        <MudItem md="12">
            <div class="d-flex flex-row-reverse w-100">
                <ImageDownload IsDisabled="@(!Model.IsComplete)" Image="@Model.CurrentImage"/>
            </div>
        </MudItem>
    </MudGrid>
</div>

@code
{
    protected override IObservable<ImageTargetCurrentDisplayPanelProjection> Select() => 
        Store.Select(ImageSelectors.SelectTargetCurrentDisplayPanelModel);
}
