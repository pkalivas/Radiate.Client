@inherits StoreComponent<PanelStateDialogProjection> 

<MudDialog>
    <DialogContent>
        <MudContainer>
            <MudDataGrid Items="@Model.Panels" 
                         Dense="true"
                         Elevation="0"
                         FixedHeader="true"
                         Height="400px" ColumnResizeMode="ResizeMode.Column">
                <Columns>
                    <HierarchyColumn T="PanelStateModel" />
                    <PropertyColumn Property="x => x.Panel.Id"/>
                    <TemplateColumn>
                        <CellTemplate>
                            <MudText Typo="Typo.caption">@context.Item.PanelType</MudText>
                        </CellTemplate>
                    </TemplateColumn>
                    <PropertyColumn Property="x => x.PanelName" Title="Title" />
                    <TemplateColumn Title="Visible">
                        <CellTemplate>
                            <MudText Typo="Typo.caption">
                                @context.Item.IsVisible
                            </MudText>
                        </CellTemplate>
                    </TemplateColumn>
                    <TemplateColumn Title="Expanded">
                        <CellTemplate>
                            <MudText Typo="Typo.caption">
                                @context.Item.IsExpanded
                            </MudText>
                        </CellTemplate>
                    </TemplateColumn>                
                </Columns>
                <ChildRowContent>
                    <MudCard Elevation="1">
                        <JsonData Data="context.Item.Panel"/>
                    </MudCard>
                </ChildRowContent>
            </MudDataGrid>
        </MudContainer>
    </DialogContent>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }

    protected override IObservable<PanelStateDialogProjection> Select() => Store
        .Select(UiSelectors.SelectPanelStateDialogModel);
}